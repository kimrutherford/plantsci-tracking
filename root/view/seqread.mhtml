<%args>
$read_seq
@results
</%args>

% if (@results) {

<table class="list">

  <thead>
    <tr>
      <td>Sample name</td>
      <td>File name</td>
      <td>Reads from FastQ file</td>
      <td>Matches in aligned output</td>
    </tr>
  </thead>

%   for my $result (@results) {
%     my @matches = @{$result->{matches}};
%     my $pipedata = $result->{pipedata};
%     my @samples = $pipedata->samples();
%     my $sample = $samples[0];
%     my $match_count = scalar(@matches);

  <tr>
%#     for (my $match_index = 0; $match_index < @matches; $match_index++) {
%#       my $match = $matches[$match_index];
%#       my $start = $match->{start};
%#       my $end = $match->{start};
    <td valign="top">
      <a href='<% $c->uri_for("/view/object/sample", SmallRNA::DB::id_of_object($sample)) %>'>
        <% $sample->name() %>
      </a>
    </td>
    <td valign="top">
      <% $pipedata->file_name() %>
    </td>
    <td valign="top">
      <% $result->{redundant_count} %>
    </td>
    <td valign="top">
      <% $match_count %>
      <a href="">[details&nbsp;...]</a>
    </td>
%#     }
  </tr>
%   }

</table>
% } else {

    <p> [no matches found for any sample] </p>
% }
