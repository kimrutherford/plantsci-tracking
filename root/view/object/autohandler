<%args>
$type
$object
</%args>

<script type="text/javascript">
  $(function() {
     $(".sect .sect-title").click(function() {
       $(this).next().toggle();
       $(this).toggleClass('undisclosed-title');
       $(this).toggleClass('disclosed-title');
       return false;
  }).next().hide();
});
</script>

% if ($editable) {
<div class="actionlist" style="float: right">
  <div class="label">
    Actions
  </div>
  <div>
    <ul>
      <li>
        <a href="<% $c->uri_for('/edit/object/' . $type . '/' . $object_id) %>">Edit</a>
      </li>
    </ul>
  </div>
</div>
% }

% $m->call_next;

<%init>
# multi-column primary keys aren't supported
my $table_pk_field = ($object->primary_columns())[0];
my $object_id = $object->$table_pk_field();

my $editable = $c->config()->{class_info}->{$type}->{editable};
</%init>
